
# 机械臂关节与舵机原始角度标定

## 导入依赖


```python
import numpy as np
```

## 关节1


```python
theta1 = np.radians(np.float32([0, 90, -90])) # 关节1的弧度
servo1 = np.float32([-0.1, -95.1, 89.8]) # 关节1舵机的原始角度(id=0)
k1,b1 = np.polyfit(theta1, servo1, 1)
print("k1 = {} b1 = {}".format(k1, b1))
```

    k1 = -58.85549680328183 b1 = -1.7999984746178046


## 关节2


```python
theta2 = np.radians(np.float32([ 78, -86.7, -96.3, -105, -115]))
servo2 = np.float32([88.8, 77.3, 73.1, 61.5, 46.5, 41.4, 30.3, 13.3, 3.3, -5.8, -14.7, -22.8])
k2,b2 = np.polyfit(theta2, servo2, 1)
print("k2 = {} b2 = {}".format(k2, b2))
```

    k2 = 56.442694157598474 b2 = 89.79513610592977


## 关节3


```python
theta3 = np.radians(np.float32([91.5, 101.2, 105.4, 109.4, 114.5, 120.1, 87.3, 81.1, 75.3, 70.9, 67.3, 63.9, 59.2, 54, 39.3, 21, 13.9]))
servo3 = np.float32([-46.9, -56.3, -60.4, -64.2, -69.4, -74.6, -42.6, -36.9, -31.0, -26.6, -23.1, -19.7, -15.0, -8.3, 6.5, 25.3, 33])

k3,b3 = np.polyfit(theta3, servo3, 1)
print("k3={} b3={}".format(k3, b3))
```

    k3=-57.967486622846934 b3=45.88535196053381


## 关节4


```python
theta4 = np.radians(np.float32([91.9, 86.7, 82.05, 75.05, 69.55, 64.7, 58.8, 52.75, 46.3, 36.2, 25.2, -19.3, -30.1, -46.9, -59.8, -67, -75.6]))
servo4 = np.float32([-93, -87.8, -83.5, -76.5, -70.8, -66.2, -60.4, -54.7, -47.8, -37.6, -28.5, 18.4, 27.7, 45.2, 58, 65, 73.7])
k4, b4 = np.polyfit(theta4, servo4, 1)
print("k4={} b4={}".format(k4, b4))
```

    k4=-57.09491281666762 b4=-1.7452359526875836


## 导出数据


```python
print("JOINT2SERVO_K=[{:.3f}, {:.3f}, {:.3f}, {:.3f}]".format(k1, k2, k3, k4))
print("JOINT2SERVO_B=[{:.3f}, {:.3f}, {:.3f}, {:.3f}]".format(b1, b2, b3, b4))
```

    JOINT2SERVO_K=[-58.855, 56.443, -57.967, -57.095]
    JOINT2SERVO_B=[-1.800, 89.795, 45.885, -1.745]



```python

```
